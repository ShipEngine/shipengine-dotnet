// <auto-generated />
// DO NOT MODIFY THIS FILE

// Changes can be made in a corresponding partial file, or by changing
// the template in <root>/generation/templates and generating the class again.


using ShipEngineSDK.Model;
using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Net.Mime;
using System.Text.Json;
using System.Threading;
using System.Threading.Tasks;

namespace ShipEngineSDK;

/// <summary>
/// Represents a collection of functions to interact with the API endpoints
/// </summary>
public partial interface IShipEngine
{
    /// <summary>
    /// Add to a Batch Add a Shipment or Rate to a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="addToBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> AddToBatch(AddToBatchRequestBody addToBatchRequestBody, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Add to a Batch Add a Shipment or Rate to a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="addToBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> AddToBatch(HttpClient methodClient, AddToBatchRequestBody addToBatchRequestBody, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Create A Batch Create a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="createBatchRequest"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (CreateBatchResponseBody)</returns>
    Task<ShipEngineResponse<CreateBatchResponseBody>> CreateBatch(CreateBatchRequest createBatchRequest, CancellationToken cancellationToken = default);

    /// <summary>
    /// Create A Batch Create a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="createBatchRequest"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (CreateBatchResponseBody)</returns>
    Task<ShipEngineResponse<CreateBatchResponseBody>> CreateBatch(HttpClient methodClient, CreateBatchRequest createBatchRequest, CancellationToken cancellationToken = default);

    /// <summary>
    /// Delete Batch By Id Delete Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> DeleteBatch(string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Delete Batch By Id Delete Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> DeleteBatch(HttpClient methodClient, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Get Batch By External ID Get Batch By External ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="externalBatchId"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByExternalIdResponseBody)</returns>
    Task<ShipEngineResponse<GetBatchByExternalIdResponseBody>> GetBatchByExternalId(string externalBatchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Get Batch By External ID Get Batch By External ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="externalBatchId"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByExternalIdResponseBody)</returns>
    Task<ShipEngineResponse<GetBatchByExternalIdResponseBody>> GetBatchByExternalId(HttpClient methodClient, string externalBatchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Get Batch By ID Get Batch By ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByIdResponseBody)</returns>
    Task<ShipEngineResponse<GetBatchByIdResponseBody>> GetBatchById(string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Get Batch By ID Get Batch By ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByIdResponseBody)</returns>
    Task<ShipEngineResponse<GetBatchByIdResponseBody>> GetBatchById(HttpClient methodClient, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Get Batch Errors Error handling in batches are handled differently than in a single synchronous request. You must retrieve the status of your batch by [getting a batch](https://www.shipengine.com/docs/reference/get-batch-by-id/) and getting an overview of the statuses or you can list errors directly here below to get detailed information about the errors. 
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="pagesize"> (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchErrorsResponseBody)</returns>
    Task<ShipEngineResponse<ListBatchErrorsResponseBody>> ListBatchErrors(string batchId, int? pagesize, int? page, CancellationToken cancellationToken = default);

    /// <summary>
    /// Get Batch Errors Error handling in batches are handled differently than in a single synchronous request. You must retrieve the status of your batch by [getting a batch](https://www.shipengine.com/docs/reference/get-batch-by-id/) and getting an overview of the statuses or you can list errors directly here below to get detailed information about the errors. 
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="pagesize"> (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchErrorsResponseBody)</returns>
    Task<ShipEngineResponse<ListBatchErrorsResponseBody>> ListBatchErrors(HttpClient methodClient, string batchId, int? pagesize, int? page, CancellationToken cancellationToken = default);

    /// <summary>
    /// List Batches List Batches associated with your Shipengine account
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="status"> (optional)</param>
    /// <param name="sortBy"> (optional)</param>
    /// <param name="sortDir">Controls the sort order of the query. (optional)</param>
    /// <param name="batchNumber">Batch Number (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="pageSize">The number of results to return per response. (optional, default to 25)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchesResponseBody)</returns>
    Task<ShipEngineResponse<ListBatchesResponseBody>> ListBatches(BatchStatus? status, BatchesSortBy? sortBy, SortDir? sortDir, string? batchNumber, int? page, int? pageSize, CancellationToken cancellationToken = default);

    /// <summary>
    /// List Batches List Batches associated with your Shipengine account
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="status"> (optional)</param>
    /// <param name="sortBy"> (optional)</param>
    /// <param name="sortDir">Controls the sort order of the query. (optional)</param>
    /// <param name="batchNumber">Batch Number (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="pageSize">The number of results to return per response. (optional, default to 25)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchesResponseBody)</returns>
    Task<ShipEngineResponse<ListBatchesResponseBody>> ListBatches(HttpClient methodClient, BatchStatus? status, BatchesSortBy? sortBy, SortDir? sortDir, string? batchNumber, int? page, int? pageSize, CancellationToken cancellationToken = default);

    /// <summary>
    /// Process Batch ID Labels Process Batch ID Labels
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="processBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> ProcessBatch(ProcessBatchRequestBody processBatchRequestBody, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Process Batch ID Labels Process Batch ID Labels
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="processBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> ProcessBatch(HttpClient methodClient, ProcessBatchRequestBody processBatchRequestBody, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Remove From Batch Remove a shipment or rate from a batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="removeFromBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> RemoveFromBatch(RemoveFromBatchRequestBody removeFromBatchRequestBody, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Remove From Batch Remove a shipment or rate from a batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="removeFromBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> RemoveFromBatch(HttpClient methodClient, RemoveFromBatchRequestBody removeFromBatchRequestBody, string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Update Batch By Id Update Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> UpdateBatch(string batchId, CancellationToken cancellationToken = default);

    /// <summary>
    /// Update Batch By Id Update Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    Task<ShipEngineResponse<string>> UpdateBatch(HttpClient methodClient, string batchId, CancellationToken cancellationToken = default);

}

/// <summary>
/// Represents a collection of functions to interact with the API endpoints
/// </summary>
public partial class ShipEngine
{
    /// <summary>
    /// Add to a Batch Add a Shipment or Rate to a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="addToBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public Task<ShipEngineResponse<string>> AddToBatch(AddToBatchRequestBody addToBatchRequestBody, string batchId, CancellationToken cancellationToken = default)
    {
        return AddToBatch(_client, addToBatchRequestBody, batchId, cancellationToken);
    }

    /// <summary>
    /// Add to a Batch Add a Shipment or Rate to a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="addToBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public async Task<ShipEngineResponse<string>> AddToBatch(HttpClient methodClient, AddToBatchRequestBody addToBatchRequestBody, string batchId, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'addToBatchRequestBody' is set
        if (addToBatchRequestBody == null)
        {
            throw new ArgumentNullException(nameof(addToBatchRequestBody));
        }

        // verify the required parameter 'batchId' is set
        if (batchId == null)
        {
            throw new ArgumentNullException(nameof(batchId));
        }


        RequestOptions requestOptions = new("/v1/batches/{batch_id}/add");

        requestOptions.PathParameters.Add("batch_id", ClientUtils.ParameterToString(batchId)); // path parameter
        requestOptions.Data = JsonSerializer.Serialize(addToBatchRequestBody, JsonSerializerOptions);

        requestOptions.Operation = "BatchesApi.AddToBatch";

        var (data, response) = await GetHttpResponse<string>(HttpMethods.Post, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<string>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Create A Batch Create a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="createBatchRequest"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (CreateBatchResponseBody)</returns>
    public Task<ShipEngineResponse<CreateBatchResponseBody>> CreateBatch(CreateBatchRequest createBatchRequest, CancellationToken cancellationToken = default)
    {
        return CreateBatch(_client, createBatchRequest, cancellationToken);
    }

    /// <summary>
    /// Create A Batch Create a Batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="createBatchRequest"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (CreateBatchResponseBody)</returns>
    public async Task<ShipEngineResponse<CreateBatchResponseBody>> CreateBatch(HttpClient methodClient, CreateBatchRequest createBatchRequest, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'createBatchRequest' is set
        if (createBatchRequest == null)
        {
            throw new ArgumentNullException(nameof(createBatchRequest));
        }


        RequestOptions requestOptions = new("/v1/batches");

        requestOptions.Data = JsonSerializer.Serialize(createBatchRequest, JsonSerializerOptions);

        requestOptions.Operation = "BatchesApi.CreateBatch";

        var (data, response) = await GetHttpResponse<CreateBatchResponseBody>(HttpMethods.Post, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<CreateBatchResponseBody>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Delete Batch By Id Delete Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public Task<ShipEngineResponse<string>> DeleteBatch(string batchId, CancellationToken cancellationToken = default)
    {
        return DeleteBatch(_client, batchId, cancellationToken);
    }

    /// <summary>
    /// Delete Batch By Id Delete Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public async Task<ShipEngineResponse<string>> DeleteBatch(HttpClient methodClient, string batchId, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'batchId' is set
        if (batchId == null)
        {
            throw new ArgumentNullException(nameof(batchId));
        }


        RequestOptions requestOptions = new("/v1/batches/{batch_id}");

        requestOptions.PathParameters.Add("batch_id", ClientUtils.ParameterToString(batchId)); // path parameter

        requestOptions.Operation = "BatchesApi.DeleteBatch";

        var (data, response) = await GetHttpResponse<string>(HttpMethods.Delete, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<string>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Get Batch By External ID Get Batch By External ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="externalBatchId"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByExternalIdResponseBody)</returns>
    public Task<ShipEngineResponse<GetBatchByExternalIdResponseBody>> GetBatchByExternalId(string externalBatchId, CancellationToken cancellationToken = default)
    {
        return GetBatchByExternalId(_client, externalBatchId, cancellationToken);
    }

    /// <summary>
    /// Get Batch By External ID Get Batch By External ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="externalBatchId"></param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByExternalIdResponseBody)</returns>
    public async Task<ShipEngineResponse<GetBatchByExternalIdResponseBody>> GetBatchByExternalId(HttpClient methodClient, string externalBatchId, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'externalBatchId' is set
        if (externalBatchId == null)
        {
            throw new ArgumentNullException(nameof(externalBatchId));
        }


        RequestOptions requestOptions = new("/v1/batches/external_batch_id/{external_batch_id}");

        requestOptions.PathParameters.Add("external_batch_id", ClientUtils.ParameterToString(externalBatchId)); // path parameter

        requestOptions.Operation = "BatchesApi.GetBatchByExternalId";

        var (data, response) = await GetHttpResponse<GetBatchByExternalIdResponseBody>(HttpMethods.Get, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<GetBatchByExternalIdResponseBody>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Get Batch By ID Get Batch By ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByIdResponseBody)</returns>
    public Task<ShipEngineResponse<GetBatchByIdResponseBody>> GetBatchById(string batchId, CancellationToken cancellationToken = default)
    {
        return GetBatchById(_client, batchId, cancellationToken);
    }

    /// <summary>
    /// Get Batch By ID Get Batch By ID
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (GetBatchByIdResponseBody)</returns>
    public async Task<ShipEngineResponse<GetBatchByIdResponseBody>> GetBatchById(HttpClient methodClient, string batchId, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'batchId' is set
        if (batchId == null)
        {
            throw new ArgumentNullException(nameof(batchId));
        }


        RequestOptions requestOptions = new("/v1/batches/{batch_id}");

        requestOptions.PathParameters.Add("batch_id", ClientUtils.ParameterToString(batchId)); // path parameter

        requestOptions.Operation = "BatchesApi.GetBatchById";

        var (data, response) = await GetHttpResponse<GetBatchByIdResponseBody>(HttpMethods.Get, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<GetBatchByIdResponseBody>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Get Batch Errors Error handling in batches are handled differently than in a single synchronous request. You must retrieve the status of your batch by [getting a batch](https://www.shipengine.com/docs/reference/get-batch-by-id/) and getting an overview of the statuses or you can list errors directly here below to get detailed information about the errors. 
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="pagesize"> (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchErrorsResponseBody)</returns>
    public Task<ShipEngineResponse<ListBatchErrorsResponseBody>> ListBatchErrors(string batchId, int? pagesize = default, int? page = default, CancellationToken cancellationToken = default)
    {
        return ListBatchErrors(_client, batchId, pagesize, page, cancellationToken);
    }

    /// <summary>
    /// Get Batch Errors Error handling in batches are handled differently than in a single synchronous request. You must retrieve the status of your batch by [getting a batch](https://www.shipengine.com/docs/reference/get-batch-by-id/) and getting an overview of the statuses or you can list errors directly here below to get detailed information about the errors. 
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="pagesize"> (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchErrorsResponseBody)</returns>
    public async Task<ShipEngineResponse<ListBatchErrorsResponseBody>> ListBatchErrors(HttpClient methodClient, string batchId, int? pagesize = default, int? page = default, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'batchId' is set
        if (batchId == null)
        {
            throw new ArgumentNullException(nameof(batchId));
        }


        RequestOptions requestOptions = new("/v1/batches/{batch_id}/errors");

        requestOptions.PathParameters.Add("batch_id", ClientUtils.ParameterToString(batchId)); // path parameter
        if (pagesize != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "pagesize", pagesize));
        }
        if (page != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "page", page));
        }

        requestOptions.Operation = "BatchesApi.ListBatchErrors";

        var (data, response) = await GetHttpResponse<ListBatchErrorsResponseBody>(HttpMethods.Get, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<ListBatchErrorsResponseBody>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// List Batches List Batches associated with your Shipengine account
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="status"> (optional)</param>
    /// <param name="sortBy"> (optional)</param>
    /// <param name="sortDir">Controls the sort order of the query. (optional)</param>
    /// <param name="batchNumber">Batch Number (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="pageSize">The number of results to return per response. (optional, default to 25)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchesResponseBody)</returns>
    public Task<ShipEngineResponse<ListBatchesResponseBody>> ListBatches(BatchStatus? status = default, BatchesSortBy? sortBy = default, SortDir? sortDir = default, string? batchNumber = default, int? page = default, int? pageSize = default, CancellationToken cancellationToken = default)
    {
        return ListBatches(_client, status, sortBy, sortDir, batchNumber, page, pageSize, cancellationToken);
    }

    /// <summary>
    /// List Batches List Batches associated with your Shipengine account
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="status"> (optional)</param>
    /// <param name="sortBy"> (optional)</param>
    /// <param name="sortDir">Controls the sort order of the query. (optional)</param>
    /// <param name="batchNumber">Batch Number (optional)</param>
    /// <param name="page">Return a specific page of results. Defaults to the first page. If set to a number that&#39;s greater than the number of pages of results, an empty page is returned.  (optional, default to 1)</param>
    /// <param name="pageSize">The number of results to return per response. (optional, default to 25)</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (ListBatchesResponseBody)</returns>
    public async Task<ShipEngineResponse<ListBatchesResponseBody>> ListBatches(HttpClient methodClient, BatchStatus? status = default, BatchesSortBy? sortBy = default, SortDir? sortDir = default, string? batchNumber = default, int? page = default, int? pageSize = default, CancellationToken cancellationToken = default)
    {

        RequestOptions requestOptions = new("/v1/batches");

        if (status != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "status", status));
        }
        if (sortBy != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "sort_by", sortBy));
        }
        if (sortDir != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "sort_dir", sortDir));
        }
        if (batchNumber != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "batch_number", batchNumber));
        }
        if (page != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "page", page));
        }
        if (pageSize != null)
        {
            requestOptions.QueryParameters.Add(ClientUtils.ParameterToMultiMap("", "page_size", pageSize));
        }

        requestOptions.Operation = "BatchesApi.ListBatches";

        var (data, response) = await GetHttpResponse<ListBatchesResponseBody>(HttpMethods.Get, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<ListBatchesResponseBody>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Process Batch ID Labels Process Batch ID Labels
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="processBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public Task<ShipEngineResponse<string>> ProcessBatch(ProcessBatchRequestBody processBatchRequestBody, string batchId, CancellationToken cancellationToken = default)
    {
        return ProcessBatch(_client, processBatchRequestBody, batchId, cancellationToken);
    }

    /// <summary>
    /// Process Batch ID Labels Process Batch ID Labels
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="processBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public async Task<ShipEngineResponse<string>> ProcessBatch(HttpClient methodClient, ProcessBatchRequestBody processBatchRequestBody, string batchId, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'processBatchRequestBody' is set
        if (processBatchRequestBody == null)
        {
            throw new ArgumentNullException(nameof(processBatchRequestBody));
        }

        // verify the required parameter 'batchId' is set
        if (batchId == null)
        {
            throw new ArgumentNullException(nameof(batchId));
        }


        RequestOptions requestOptions = new("/v1/batches/{batch_id}/process/labels");

        requestOptions.PathParameters.Add("batch_id", ClientUtils.ParameterToString(batchId)); // path parameter
        requestOptions.Data = JsonSerializer.Serialize(processBatchRequestBody, JsonSerializerOptions);

        requestOptions.Operation = "BatchesApi.ProcessBatch";

        var (data, response) = await GetHttpResponse<string>(HttpMethods.Post, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<string>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Remove From Batch Remove a shipment or rate from a batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="removeFromBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public Task<ShipEngineResponse<string>> RemoveFromBatch(RemoveFromBatchRequestBody removeFromBatchRequestBody, string batchId, CancellationToken cancellationToken = default)
    {
        return RemoveFromBatch(_client, removeFromBatchRequestBody, batchId, cancellationToken);
    }

    /// <summary>
    /// Remove From Batch Remove a shipment or rate from a batch
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="removeFromBatchRequestBody"></param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public async Task<ShipEngineResponse<string>> RemoveFromBatch(HttpClient methodClient, RemoveFromBatchRequestBody removeFromBatchRequestBody, string batchId, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'removeFromBatchRequestBody' is set
        if (removeFromBatchRequestBody == null)
        {
            throw new ArgumentNullException(nameof(removeFromBatchRequestBody));
        }

        // verify the required parameter 'batchId' is set
        if (batchId == null)
        {
            throw new ArgumentNullException(nameof(batchId));
        }


        RequestOptions requestOptions = new("/v1/batches/{batch_id}/remove");

        requestOptions.PathParameters.Add("batch_id", ClientUtils.ParameterToString(batchId)); // path parameter
        requestOptions.Data = JsonSerializer.Serialize(removeFromBatchRequestBody, JsonSerializerOptions);

        requestOptions.Operation = "BatchesApi.RemoveFromBatch";

        var (data, response) = await GetHttpResponse<string>(HttpMethods.Post, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<string>(data, response.StatusCode, headers);
    }

    /// <summary>
    /// Update Batch By Id Update Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public Task<ShipEngineResponse<string>> UpdateBatch(string batchId, CancellationToken cancellationToken = default)
    {
        return UpdateBatch(_client, batchId, cancellationToken);
    }

    /// <summary>
    /// Update Batch By Id Update Batch By Id
    /// </summary>
    /// <exception cref="System.ArgumentNullException">Thrown when required argument is null</exception>
    /// <exception cref="ShipEngineSDK.ShipEngineException">Thrown when fails to make API call</exception>
    /// <param name="methodClient">HttpClient to use for the request</param>
    /// <param name="batchId">Batch ID</param>
    /// <param name="cancellationToken">Cancellation Token to cancel the request.</param>
    /// <returns>Task of ShipEngineResponse (string)</returns>
    public async Task<ShipEngineResponse<string>> UpdateBatch(HttpClient methodClient, string batchId, CancellationToken cancellationToken = default)
    {
        // verify the required parameter 'batchId' is set
        if (batchId == null)
        {
            throw new ArgumentNullException(nameof(batchId));
        }


        RequestOptions requestOptions = new("/v1/batches/{batch_id}");

        requestOptions.PathParameters.Add("batch_id", ClientUtils.ParameterToString(batchId)); // path parameter

        requestOptions.Operation = "BatchesApi.UpdateBatch";

        var (data, response) = await GetHttpResponse<string>(HttpMethods.Put, requestOptions.FullPath(), requestOptions.Data, methodClient, _config, cancellationToken);
        var headers = response.Headers.ToDictionary(h => h.Key, h => h.Value.FirstOrDefault(),
            StringComparer.InvariantCultureIgnoreCase);
        return new ShipEngineResponse<string>(data, response.StatusCode, headers);
    }

}
